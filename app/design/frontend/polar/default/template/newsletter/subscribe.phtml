<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magento.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magento.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2006-2014 X.commerce, Inc. (http://www.magento.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<div class="block block-subscribe">
    <div class="icon icon-envelope text-center"></div>
    <div class="block-title text-center">
        <strong><span><?php echo $this->__('Join Our Mailing List') ?></span></strong>
    </div>
    <p class="text-center"><?php echo $this->__("Don't forget to sign up for our glam newsletters, special offers and promotions. You gotta keep up with us! &#x1F48C") ?></p>
    <form action="<?php echo $this->getFormActionUrl() ?>" method="post" id="newsletter-validate-detail">
        <div class="block-content text-center">
            <div class="input-box clearfix">
                <div class="intro-field">
                    <button type="button" class="button expand"><span><span class="icon icon-submit"></span></span></button>
                    <input type="text" name="email" class="email" title="<?php echo $this->__('Sign up for our newsletter') ?>" class="input-text required-entry validate-email" placeholder="Email Address" required />
                </div>
                <div class="more-fields">
                    <input type="text" name="firstName" title="<?php echo $this->__('First Name') ?>" class="input-text required-entry firstname" placeholder="<?php echo $this->__('First Name') ?>" required />
                    <input type="text" name="lastName" title="<?php echo $this->__('Last Name') ?>" class="input-text required-entry name" placeholder="<?php echo $this->__('Last Name') ?>" required />
                    <select name="favoriteSister" class="cs-select cs-skin-border">
                        <option value="" disabled selected>Favorite Sister</option>
                        <option value="Kourtney">Kourtney</option>
                        <option value="Kim">Kim</option>
                        <option value="Khloe">Khloe</option>
                    </select>
                    <div class="checkbox"><input type="checkbox" checked="true" value="1" id="newsletter_signup" value="I agree to receive email marketing communications from Kardashian Beauty"><label for="newsletter_signup" checked="checked"><?php echo $this->__('I agree to receive email marketing communications from Kardashian Beauty') ?></label></div>
                    
                    <button type="submit" title="<?php echo $this->__('Join') ?>" class="button submit"><span><span><?php echo $this->__('JOIN') ?></span></span></button>
                </div>
            </div>
        </div>
    </form>
    <script type="text/javascript">
    //<![CDATA[
        var newsletterSubscriberFormDetail = new VarienForm('newsletter-validate-detail');
        var ua = navigator.userAgent.toLowerCase(); 
        if (ua.indexOf('safari') != -1) { 
            if (ua.indexOf('chrome') > -1) {
              
            } else {
                var form = document.getElementById('newsletter-validate-detail'); // form has to have ID: <form id="formID">
                form.noValidate = true;
                form.addEventListener('submit', function(event) { // listen for form submitting
                    if (!event.target.checkValidity()) {
                        event.preventDefault(); // dismiss the default functionality
                        jQuery('<div class="validation-advice" id="advice-required-entry-email" style="">This is a required field.</div>').insertAfter('input.email');
                    }
                }, false);
            }
        }
    //]]>
    </script>
</div>
